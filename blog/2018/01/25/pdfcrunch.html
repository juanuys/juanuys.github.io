<!DOCTYPE html>
<html lang="en">

  <head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-C41XWQXNNL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-C41XWQXNNL');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Permissions-Policy" content="interest-cohort=()"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  


  <link rel="me" href="https://mastodon.art/@uys">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="theme-color" content="#f6ffd3">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="alternate" type="application/rss+xml" title="Juan Uys"
    href="/feed.xml">

  
  <meta name="robots" content="index, follow" />


  <!-- Primary Meta Tags -->
  <title>Juan Uys</title>
  <meta name="title" content="Juan Uys">
  <meta name="description" content="Witness Juan Uys concerning himself with art, computer programming, and other frivolous endeavours.">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://juanuys.com/">
  <meta property="og:title" content="Juan Uys">
  <meta property="og:description" content="Witness Juan Uys concerning himself with art, computer programming, and other frivolous endeavours.">
  <meta property="og:image" content="https://juanuys.com/assets/about/juanuys.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://juanuys.com/">
  <meta property="twitter:title" content="Juan Uys">
  <meta property="twitter:description" content="Witness Juan Uys concerning himself with art, computer programming, and other frivolous endeavours.">
  <meta property="twitter:image" content="https://juanuys.com/assets/about/juanuys.png">

  <!-- indieweb -->
  <a href="https://juanuys.com/" class="h-card" rel="me">Juan Uys</a>
</head>


  <body>

    <div class="all">
      <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    
    

    
    
    

    
    <a class="site-title" rel="author" href="/blog">
      
      <img src="/assets/index/pixelated.png" alt="Juan Uys" height="40"> /blog
      
    </a>
          

  </div>
</header>


      <main class="page-content" aria-label="Content">
        <div class="wrapper">
          <div class="content">
  <div class="post single">
      <!--
    <div class="meta">
        <p class="item tags small">
            <a href="/tag/imadeathing" class="tag">imadeathing</a><a href="/tag/tech" class="tag">tech</a><a href="/tag/startup" class="tag">startup</a><a href="/tag/python" class="tag">python</a><a href="/tag/ml" class="tag">ml</a>
        </p>
    </div>
    -->

    <h1 class="title">pdfcrun.ch</h1>

    <div>      
      

      
        <div style="float: left; padding-right: 20px;">tags:</div>

        <div class="tags">
          <ul>
          
          
            <li><a title="tag: imadeathing" href="/tags#imadeathing">imadeathing</a></li>
          
            
          
          
            <li><a title="tag: tech" href="/tags#tech">tech</a></li>
          
            
          
          
            <li><a title="tag: startup" href="/tags#startup">startup</a></li>
          
            
          
          
            <li><a title="tag: python" href="/tags#python">python</a></li>
          
            
          
          
            <li><a title="tag: ml" href="/tags#ml" style="color:white;">ml</a></li>
          
            
          
          </ul>
        </div>
      
    </div>
    

    <info datetime="2018-01-25">
        2018-01-25
    </info>

    <div class="breaker"></div>
    <div class="body"><p><a href="https://pdfcrun.ch">pdfcrun.ch</a> turns your PDFs into data. Nice strap-line, eh?</p>

<p>More specifically, I‚Äôm aiming to extract tables from PDFs without losing any information.</p>

<p>This project had its inception back in 2013 when I did some freelance work for a client who wanted to extract millions of datapoints from local state PDF datasets (CA, USA). The product was built with Scala, using Apache PDFBox. All the PDFs looked the same, so you could just set all the coordinates by hand.</p>

<h1 id="v1">v1</h1>

<p>What if you could give it <em>any</em> PDF, he asked. The engineer in me wants to generalise, and this problem sounded like it could have a lucrative outcome as well. Said engineer was still a bit wet behind the ears as far as PDFs were concerned: internally, they are a mess. What if what you <em>saw</em> is what you <em>got</em>? (Or <em>gotten</em>, I guess, as the Americans say.)</p>

<p>Luckily for me I had to re-write the whole damn thing. I reached for the top shelf for this one. ML? Computer Vision? Python, of course! However, I went into it with rose-tinted PDF glasses, and all my initial samples had tables in them with beautifully line-delimited rows and columns. (Of course, later we‚Äôll learn that not all tables look like that - some of them have no lines whatsoever, and some of them have every other line backgrounded with light gray, etc)</p>

<p>That‚Äôs how we got to V1 in the end - a Python script which could parse table cells by way of a <a href="https://en.wikipedia.org/wiki/Hough_transform">Hough Transform</a>.</p>

<h1 id="v2">v2</h1>

<p>Like I said, most tables are misbehaving little sum‚Äô b*ches. I had to throw out Hough and find a more general solution. I had to immediately become a computer vision expert overnight if this thing was going to succeed. I enrolled for the <a href="https://deeplearning.ai">deeplearning.ai</a> specialisation, and you can see my terrible notes on the course <a href="tags#deeplearning">here</a>. Also - and here‚Äôs the real bonus - I justified dropping ¬£2K on a new gaming^H^H^H^H^H^Hmachine learning PC with the latest (at the time) GTX-1080 Ti card. You know, for training models and shizzle. Truth be told, the PC was a good investment, because there are only so many times you can forget to shut down a cloud GPU before it eats up all your cash and kids-xmas-is-cancelled-this-year.</p>

<p>Regardless of doing that course, I still had gaps in my actual ‚Äúcomputer vision‚Äù education, and I promptly reached out to the author of <a href="https://en.wikipedia.org/wiki/Scikit-image">scikit-image</a>, who promptly introduced me to his old uni buddy who had a PhD in computer vision (both South Africans, and lovely chaps). With an expert on the payroll, I continued making the rest of the product SaaS-ready (trying my hand at this new thing, Kubernetes) and getting some marketing juice flowing.</p>

<h1 id="fast-forward">Fast forward</h1>

<p>The product still doesn‚Äôt have a good success rate. The good news is that it got me head-hunted for a very good gig at <a href="https://en.wikipedia.org/wiki/Dunnhumby">DunnHumby</a> to build a receipt scanner. Needless to say, we skipped the whole TensorFlow thing and went straight with Google Vision. It‚Äôs a nice piece of kit, and it puts your paragraphs, sentences, words, and letters in blocks. This works nicely for tables too, with some x/y coordinate fiddling. Once I find the time, I‚Äôll transfer my knowledge gained on that role to pdfcrun.ch, and hopefully, ultimately achieve PDF world domination.</p>
</div>


  

  <div class="previousnext">

    
      <a class="pnbox prev" href="/blog/2017/11/27/week-2-of-structuring-machine-learning-projects.html">&laquo; Week 2 of Structuring Machine Learning Projects</a>
    

    
      <a class="pnbox next" href="/blog/2018/02/08/truths.html">Truths &raquo;</a>
    

  </div>

  </div>
</div>


        </div>
      </main>

      <span>
    Copyright ¬© 2002-2024 Juan Uys, <a href="https://github.com/juanuys/juanuys.github.io" alt="Github link to this website's source code.">(source code for this website)</a>.
    Updates via <a href="/feed.xml">RSS</a>, <a href="https://mastodon.art/@uys">Mastodon</a> or <a href="/newsletter">newsletter üíå</a>.
</span>

    </div>

  </body>

</html>
